!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["digitalanarchy.helpers"]=e():t["digitalanarchy.helpers"]=e()}(window,function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},r.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=4)}([function(t,e,r){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var n=function(){function t(e,r,s,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.frameRate=e,this.dropFrame=1001===Math.round(Math.ceil(this.frameRate)/this.frameRate*1e3)&&[30,60].includes(Math.ceil(this.frameRate)),void 0===r||"object"===i(r)?(this.time=0,void 0===this.frameRate||"object"===i(this.frameRate)?(void 0!==e&&(this.frameRate=e.frameRate||30),this.setOptions(e||o)||this.updateFields()):this.setOptions(r||o)||this.updateFields()):void 0===s||"object"===i(s)?(this.time=r,this.setOptions(s||o)||this.updateFields()):(this.hours=r,this.minutes=s,this.seconds=n,this.frames=a,this.setOptions(o)||this.updateTime())}var e,r,n;return e=t,n=[{key:"fromSeconds",value:function(e,r){return new t(r.frameRate,e,r).toString()}},{key:"fromTimecode",value:function(e,r){var i=new t(r.frameRate,r);return i.parse(e),i.time}}],(r=[{key:"updateFields",value:function(){if(void 0===this.frameRate)throw new Error("frameRate is undefined.");var t=this.time*this.frameRate;if(this.dropFrame){var e=Math.floor(this.time*Math.ceil(this.frameRate)/this.frameRate/60);t+=2*(e-Math.floor(e/10))}t=Math.round(t),this.absoluteFrame=t,this.frames=Math.round(t%Math.ceil(this.frameRate));var r=Math.round((t-this.frames)/Math.ceil(this.frameRate));this.seconds=Math.round(r%60);var i=Math.round((r-this.seconds)/60);this.minutes=Math.round(i%60),this.hours=Math.round((i-this.minutes)/60)}},{key:"updateTime",value:function(){if(void 0===this.frameRate)throw new Error("frameRate is undefined.");if(this.dropFrame){var t=60*this.hours+this.minutes,e=(60*t+this.seconds)*Math.ceil(this.frameRate);e+=this.frames,e-=2*(t-Math.floor(t/10)),this.absoluteFrame=e,this.time=e/this.frameRate}else this.time=3600*this.hours+60*this.minutes+this.seconds,this.absoluteFrame=this.time*this.frameRate+this.frames,this.time+=this.frames/Math.ceil(this.frameRate),this.time*=Math.ceil(this.frameRate)/this.frameRate}},{key:"parse",value:function(t){var e=t;if(4!==(e=(e=(e=e.replace(/;/g,":")).replace(/[.]/g,":")).split(":")).length)return!1;this.hours=Number(e[0]),this.minutes=Number(e[1]),this.seconds=Number(e[2]),this.frames=Number(e[3]),this.updateTime()}},{key:"getFrameRate",value:function(){return this.frameRate}},{key:"getTime",value:function(){return this.time}},{key:"getHours",value:function(){return this.hours}},{key:"getMinutes",value:function(){return this.minutes}},{key:"getSeconds",value:function(){return this.seconds}},{key:"getFrames",value:function(){return this.frames}},{key:"getAbsoluteFrame",value:function(){return this.absoluteFrame}},{key:"setFrameRate",value:function(t,e){this.frameRate!==t&&(this.frameRate=t,this.dropFrame=void 0===e||null===e?1001===Math.round(Math.ceil(this.frameRate)/this.frameRate*1e3)&&[30,60].includes(Math.ceil(this.frameRate)):e,this.updateFields())}},{key:"setOptions",value:function(t){if(void 0!==t.style)switch(t.style.toUpperCase()){case"SRT":this.separator=":",this.lastSeparator=",",this.setFrameRate(1e3);break;case"VTT":this.separator=":",this.lastSeparator=".",this.setFrameRate(1e3);break;case"STL":case"SMPTE":this.separator=":",this.lastSeparator=":";break;case"SCC":this.separator=":",this.lastSeparator=null}return void 0!==t.dropFrame&&null!==t.dropFrame&&(this.dropFrame=t.dropFrame),void 0!==t.frameRate&&this.setFrameRate(t.frameRate,t.dropFrame),void 0!==t.separator&&(this.separator=t.separator),void 0!==t.lastSeparator&&(this.lastSeparator=t.lastSeparator),void 0!==t.time?(this.time=t.time,this.updateFields(),!0):void 0!==t.hours&&(this.hours=t.hours,this.minutes=t.minutes,this.seconds=t.seconds,this.frames=t.frames,this.updateTime(),!0)}},{key:"setTime",value:function(t){this.time=t,this.updateFields()}},{key:"setHours",value:function(t){this.hours=t,this.updateTime()}},{key:"setMinutes",value:function(t){this.minutes=t,this.updateTime()}},{key:"setSeconds",value:function(t){this.seconds=t,this.updateTime()}},{key:"setFrames",value:function(t){this.frames=t,this.updateTime()}},{key:"addFrames",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.frames+=t,this.frames>=this.frameRate){var e=Math.floor(this.frames/Math.ceil(this.frameRate));if(this.seconds+=e,this.frames-=Math.ceil(this.frameRate)*e,this.seconds>=60){var r=Math.floor(this.seconds/60);if(this.minutes+=r,this.seconds-=60*r,this.minutes>=60){var i=Math.floor(this.minutes/60);this.hours+=i,this.minutes-=60*i}}}this.updateTime()}},{key:"toSRT",value:function(){var t=",";return this.dropFrame&&(t=","),a(this.hours)+":"+a(this.minutes)+":"+a(this.seconds)+t+o(this.frames)}},{key:"toVTT",value:function(){var t=".";return this.dropFrame&&(t="."),a(this.hours)+":"+a(this.minutes)+":"+a(this.seconds)+t+o(this.frames)}},{key:"toSTL",value:function(){var t=":";return this.dropFrame&&(t=":"),a(this.hours)+":"+a(this.minutes)+":"+a(this.seconds)+t+a(this.frames)}},{key:"toSCC",value:function(){var t=":";return this.dropFrame&&(t=";"),a(this.hours)+":"+a(this.minutes)+":"+a(this.seconds)+t+a(this.frames)}},{key:"toSMPTE",value:function(){return this.toSTL()}},{key:"toString",value:function(){var t=this.dropFrame?";":":",e=this.separator||t,r=this.lastSeparator||(void 0!==this.lastSeparator?e:t),i=this.frameRate>=1e3?o(this.frames):a(this.frames);return a(this.hours)+e+a(this.minutes)+e+a(this.seconds)+r+i}}])&&s(e.prototype,r),n&&s(e,n),t}(),a=function(t){return("00"+t).slice(-2)},o=function(t){return("000"+t).slice(-3)};t.exports=n},function(t,e){var r,i,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(r===setTimeout)return setTimeout(t,0);if((r===n||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:n}catch(t){r=n}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,h=[],f=!1,c=-1;function m(){f&&u&&(f=!1,u.length?h=u.concat(h):c=-1,h.length&&l())}function l(){if(!f){var t=o(m);f=!0;for(var e=h.length;e;){for(u=h,h=[];++c<e;)u&&u[c].run();c=-1,e=h.length}u=null,f=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function d(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new p(t,e)),1!==h.length||f||o(l)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=d,s.addListener=d,s.once=d,s.off=d,s.removeListener=d,s.removeAllListeners=d,s.emit=d,s.prependListener=d,s.prependOnceListener=d,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,r){"use strict";(function(e){var r="win32"===e.platform,i=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,s=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,n={};n.parse=function(t){if("string"!=typeof t)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e,r,n,a,o,u=(e=t,r=i.exec(e),n=(r[1]||"")+(r[2]||""),a=r[3]||"",o=s.exec(a),[n,o[1],o[2],o[3]]);if(!u||4!==u.length)throw new TypeError("Invalid path '"+t+"'");return{root:u[0],dir:u[0]+u[1].slice(0,-1),base:u[2],ext:u[3],name:u[2].slice(0,u[2].length-u[3].length)}};var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o={};o.parse=function(t){if("string"!=typeof t)throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e,r=(e=t,a.exec(e).slice(1));if(!r||4!==r.length)throw new TypeError("Invalid path '"+t+"'");return r[1]=r[1]||"",r[2]=r[2]||"",r[3]=r[3]||"",{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}},t.exports=r?n.parse:o.parse,t.exports.posix=o.parse,t.exports.win32=n.parse}).call(this,r(1))},function(t,e,r){"use strict";function i(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}r(2);var s=function(t,e){return t?t.filter(function(t){return t.clipName===e})[0]:{}},n=function(t){return t.words.reduce(function(t,e){return t+(e.endTime-e.startTime)},0)},a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,r,a;return e=t,a=[{key:"fromJSON",value:function(t,e){for(var r,i,a=[],o=0;o<t.length;o++){var u=t[o],h=Math.max(o-1,0);u.disabled||(u.clipName===t[h].clipName&&a.length?a[a.length-1].duration+=n(u):a.push(Object.assign({clipName:u.clipName},(r=s(e,u.clipName),i=void 0,i={startOffset:r.start.seconds,startTime:0},r.inPoint?(i.startOffset+=r.inPoint.seconds,i.startTime=r.inPoint.seconds):r.startTime&&(i.startOffset+=r.startTime,i.startTime=r.startTime),i),{duration:n(u)})))}return a}}],(r=null)&&i(e.prototype,r),a&&i(e,a),t}();t.exports=a},function(t,e,r){"use strict";var i={Conforming:r(3),Timecode:r(0)};window.DigitalAnarchy=i,t.exports=i}])});